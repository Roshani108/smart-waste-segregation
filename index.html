<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Learn to segregate waste effectively with Waste Wise for a sustainable future. Built by Roshani.">
  <meta name="keywords" content="waste segregation, recycling, sustainability, eco-friendly, dashboard">
  <title>Waste Wise - Sustainable Waste Segregation</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Segoe UI', Arial, sans-serif;
    }

    body {
      background: linear-gradient(135deg, #f0f4f8, #d9e2ec);
      color: #333;
      transition: background 0.3s, color 0.3s;
      scroll-behavior: smooth;
    }

    body.dark-mode {
      background: linear-gradient(135deg, #1a1a2e, #16213e);
      color: #e0e0e0;
    }

    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }

    nav {
      background: rgba(255, 255, 255, 0.1);
      backdrop-filter: blur(10px);
      position: sticky;
      top: 0;
      z-index: 1000;
      padding: 15px 0;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
    }

    nav .container {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    nav h1 {
      font-size: 1.8rem;
      color: #2e7d32;
    }

    body.dark-mode nav h1 {
      color: #4caf50;
    }

    nav ul {
      display: flex;
      list-style: none;
      gap: 20px;
    }

    nav a {
      color: #333;
      text-decoration: none;
      font-weight: 500;
      transition: color 0.3s;
    }

    body.dark-mode nav a {
      color: #e0e0e0;
    }

    nav a:hover, nav a:focus {
      color: #2e7d32;
      outline: none;
    }

    body.dark-mode nav a:hover, body.dark-mode nav a:focus {
      color: #4caf50;
    }

    #theme-toggle {
      background: none;
      border: none;
      font-size: 1.2rem;
      cursor: pointer;
      color: #333;
    }

    body.dark-mode #theme-toggle {
      color: #e0e0e0;
    }

    #home {
      text-align: center;
      padding: 100px 20px;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, rgba(46, 125, 50, 0.3), rgba(100, 181, 246, 0.3)), url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><path fill="%232e7d32" fill-opacity="0.1" d="M0 0h100v100H0z"/><path fill="%234caf50" fill-opacity="0.1" d="M50 0c27.614 0 50 22.386 50 50S77.614 100 50 100 0 77.614 0 50 22.386 0 50 0z"/></svg>') repeat;
    }

    body.dark-mode #home {
      background: linear-gradient(135deg, rgba(76, 175, 80, 0.3), rgba(33, 150, 243, 0.3)), url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="100" height="100" viewBox="0 0 100 100"><path fill="%234caf50" fill-opacity="0.1" d="M0 0h100v100H0z"/><path fill="%2364b5f6" fill-opacity="0.1" d="M50 0c27.614 0 50 22.386 50 50S77.614 100 50 100 0 77.614 0 50 22.386 0 50 0z"/></svg>') repeat;
    }

    #home h2 {
      font-size: 3rem;
      color: #2e7d32;
      margin-bottom: 20px;
      animation: slideIn 1s ease-in-out;
    }

    body.dark-mode #home h2 {
      color: #4caf50;
    }

    #home p {
      font-size: 1.3rem;
      margin-bottom: 30px;
      color: #555;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }

    body.dark-mode #home p {
      color: #b0b0b0;
    }

    #home a {
      background: #2e7d32;
      color: white;
      padding: 15px 30px;
      border-radius: 30px;
      text-decoration: none;
      font-weight: 600;
      transition: background 0.3s, transform 0.3s;
      animation: pulse 2s infinite;
    }

    body.dark-mode #home a {
      background: #4caf50;
    }

    #home a:hover, #home a:focus {
      background: #1b5e20;
      transform: scale(1.05);
      outline: none;
    }

    .carousel {
      max-width: 600px;
      margin: 20px auto;
      overflow: hidden;
      position: relative;
    }

    .carousel-items {
      display: flex;
      transition: transform 0.5s ease;
    }

    .carousel-item {
      min-width: 100%;
      padding: 20px;
      text-align: center;
      font-size: 1.1rem;
      color: #555;
    }

    body.dark-mode .carousel-item {
      color: #b0b0b0;
    }

    .carousel-controls {
      position: absolute;
      top: 50%;
      width: 100%;
      display: flex;
      justify-content: space-between;
      transform: translateY(-50%);
    }

    .carousel-controls button {
      background: rgba(255, 255, 255, 0.5);
      border: none;
      padding: 10px;
      cursor: pointer;
      font-size: 1.2rem;
      transition: background 0.3s;
    }

    body.dark-mode .carousel-controls button {
      background: rgba(50, 50, 50, 0.5);
    }

    .carousel-controls button:hover {
      background: rgba(255, 255, 255, 0.8);
    }

    body.dark-mode .carousel-controls button:hover {
      background: rgba(80, 80, 80, 0.8);
    }

    #dashboard, #learn, #community, #about {
      padding: 60px 20px;
      background: rgba(255, 255, 255, 0.9);
    }

    body.dark-mode #dashboard, body.dark-mode #learn, body.dark-mode #community, body.dark-mode #about {
      background: rgba(30, 30, 30, 0.9);
    }

    #dashboard h2, #learn h2, #community h2, #about h2 {
      text-align: center;
      font-size: 2.2rem;
      color: #2e7d32;
      margin-bottom: 40px;
    }

    body.dark-mode #dashboard h2, body.dark-mode #learn h2, body.dark-mode #community h2, body.dark-mode #about h2 {
      color: #4caf50;
    }

    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
    }

    .card {
      background: rgba(255, 255, 255, 0.8);
      backdrop-filter: blur(5px);
      border-radius: 10px;
      padding: 20px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
      transition: transform 0.3s, box-shadow 0.3s;
    }

    body.dark-mode .card {
      background: rgba(50, 50, 50, 0.8);
    }

    .card:hover {
      transform: translateY(-5px);
      box-shadow: 0 6px 15px rgba(0, 0, 0, 0.2);
    }

    .card h3 {
      font-size: 1.5rem;
      color: #2e7d32;
      margin-bottom: 10px;
    }

    body.dark-mode .card h3 {
      color: #4caf50;
    }

    .card p {
      color: #555;
    }

    body.dark-mode .card p {
      color: #b0b0b0;
    }

    #tools {
      padding: 60px 20px;
      background: rgba(245, 245, 245, 0.9);
    }

    body.dark-mode #tools {
      background: rgba(40, 40, 40, 0.9);
    }

    #tools h2 {
      text-align: center;
      font-size: 2.2rem;
      color: #2e7d32;
      margin-bottom: 40px;
    }

    body.dark-mode #tools h2 {
      color: #4caf50;
    }

    #search-input {
      width: 100%;
      max-width: 500px;
      padding: 12px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 1rem;
      margin: 0 auto 20px;
      display: block;
      transition: border-color 0.3s;
    }

    body.dark-mode #search-input {
      background: #333;
      border-color: #555;
      color: #e0e0e0;
    }

    #search-input:focus {
      border-color: #2e7d32;
      outline: none;
    }

    body.dark-mode #search-input:focus {
      border-color: #4caf50;
    }

    #suggestions {
      position: absolute;
      width: 100%;
      max-width: 500px;
      background: white;
      border-radius: 8px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
      max-height: 200px;
      overflow-y: auto;
      z-index: 1000;
      margin: 0 auto;
      left: 50%;
      transform: translateX(-50%);
    }

    body.dark-mode #suggestions {
      background: #333;
    }

    .share-button {
      background: #2e7d32;
      color: white;
      padding: 10px 20px;
      border-radius: 25px;
      border: none;
      cursor: pointer;
      font-weight: 600;
      margin-top: 10px;
      transition: background 0.3s;
    }

    body.dark-mode .share-button {
      background: #4caf50;
    }

    .share-button:hover, .share-button:focus {
      background: #1b5e20;
      outline: none;
    }

    #suggestions div {
      padding: 10px;
      cursor: pointer;
      transition: background 0.2s;
    }

    #suggestions div:hover {
      background: #e8f5e9;
    }

    body.dark-mode #suggestions div:hover {
      background: #444;
    }

    #history {
      margin: 20px auto;
      max-width: 500px;
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .history-item {
      background: #e8f5e9;
      padding: 8px 12px;
      border-radius: 15px;
      cursor: pointer;
      font-size: 0.9rem;
      transition: background 0.2s;
    }

    body.dark-mode .history-item {
      background: #444;
    }

    .history-item:hover {
      background: #c8e6c9;
    }

    body.dark-mode .history-item:hover {
      background: #555;
    }

    .progress-bar {
      width: 100%;
      background: #e0e0e0;
      border-radius: 5px;
      overflow: hidden;
      margin-top: 10px;
    }

    body.dark-mode .progress-bar {
      background: #444;
    }

    .progress-fill {
      height: 20px;
      background: #2e7d32;
      transition: width 0.3s;
    }

    body.dark-mode .progress-fill {
      background: #4caf50;
    }

    #progress-input {
      width: 100%;
      padding: 10px;
      margin-bottom: 10px;
      border-radius: 5px;
      border: 1px solid #ccc;
    }

    body.dark-mode #progress-input {
      background: #333;
      border-color: #555;
      color: #e0e0e0;
    }

    #progress-input:focus {
      border-color: #2e7d32;
      outline: none;
    }

    body.dark-mode #progress-input:focus {
      border-color: #4caf50;
    }

    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.5);
      z-index: 2000;
      align-items: center;
      justify-content: center;
    }

    .modal-content {
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(10px);
      padding: 20px;
      border-radius: 10px;
      max-width: 500px;
      width: 90%;
      text-align: center;
    }

    body.dark-mode .modal-content {
      background: rgba(50, 50, 50, 0.9);
    }

    .modal-content h3 {
      color: #2e7d32;
      margin-bottom: 20px;
    }

    body.dark-mode .modal-content h3 {
      color: #4caf50;
    }

    .modal-content input {
      width: 100%;
      padding: 10px;
      margin: 10px 0;
      border-radius: 5px;
      border: 1px solid #ccc;
    }

    body.dark-mode .modal-content input {
      background: #333;
      border-color: #555;
      color: #e0e0e0;
    }

    .modal-content button {
      background: #2e7d32;
      color: white;
      padding: 10px 20px;
      border-radius: 25px;
      border: none;
      cursor: pointer;
      font-weight: 600;
      margin: 10px;
    }

    body.dark-mode .modal-content button {
      background: #4caf50;
    }

    .modal-content button:hover, .modal-content button:focus {
      background: #1b5e20;
      outline: none;
    }

    canvas {
      max-width: 100%;
      margin: 20px auto;
      display: block;
    }

    footer {
      background: #2e7d32;
      color: white;
      padding: 30px 20px;
      text-align: center;
    }

    body.dark-mode footer {
      background: #4caf50;
    }

    footer a {
      color: white;
      text-decoration: none;
      margin: 0 10px;
      transition: color 0.3s;
    }

    footer a:hover, footer a:focus {
      color: #c8e6c9;
      outline: none;
    }

    .cta {
      display: inline-block;
      background: #2e7d32;
      color: white;
      padding: 12px 24px;
      border-radius: 25px;
      text-decoration: none;
      font-weight: 600;
      margin-top: 20px;
      transition: background 0.3s;
    }

    body.dark-mode .cta {
      background: #4caf50;
    }

    .cta:hover, .cta:focus {
      background: #1b5e20;
      outline: none;
    }

    @keyframes slideIn {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes pulse {
      0% { transform: scale(1); }
      50% { transform: scale(1.05); }
      100% { transform: scale(1); }
    }
  </style>
</head>
<body>
  <nav>
    <div class="container">
      <h1>Waste Wise</h1>
      <ul>
        <li><a href="#home" aria-label="Home">Home</a></li>
        <li><a href="#dashboard" aria-label="Dashboard">Dashboard</a></li>
        <li><a href="#learn" aria-label="Learn">Learn</a></li>
        <li><a href="#tools" aria-label="Tools">Tools</a></li>
        <li><a href="#community" aria-label="Community">Community</a></li>
        <li><a href="#about" aria-label="About">About</a></li>
        <li><button id="theme-toggle" aria-label="Toggle dark mode">üåô</button></li>
      </ul>
    </div>
  </nav>

  <section id="home">
    <div class="container">
      <h2>Welcome to Waste Wise</h2>
      <p>Take the first step towards a sustainable future with Waste Wise, built by Roshani. Learn to segregate waste effectively and track your impact.</p>
      <a href="#dashboard" aria-label="Explore the Dashboard">Explore Dashboard</a>
      <div class="carousel">
        <div class="carousel-items">
          <div class="carousel-item">Reduce waste by using reusable bags.</div>
          <div class="carousel-item">Compost organic waste to enrich soil.</div>
          <div class="carousel-item">Recycle plastics to save resources.</div>
        </div>
        <div class="carousel-controls">
          <button id="carousel-prev" aria-label="Previous tip">‚Üê</button>
          <button id="carousel-next" aria-label="Next tip">‚Üí</button>
        </div>
      </div>
    </div>
  </section>

  <section id="dashboard">
    <div class="container">
      <h2>Your Waste Segregation Dashboard</h2>
      <div class="grid">
        <div class="card">
          <h3>Waste Statistics</h3>
          <canvas id="waste-chart" width="200" height="200"></canvas>
          <p>Track the distribution of waste categories.</p>
        </div>
        <div class="card">
          <h3>Recent Searches</h3>
          <div id="recent-searches"></div>
          <p>View your recent waste searches.</p>
        </div>
        <div class="card">
          <h3>Progress Tracker</h3>
          <input type="text" id="progress-input" placeholder="Log action (e.g., Recycled Plastic Bottle)" aria-label="Log waste segregation action">
          <div class="progress-bar">
            <div class="progress-fill" style="width: 0%"></div>
          </div>
          <p>Track your eco-friendly actions.</p>
        </div>
      </div>
    </div>
  </section>

  <section id="learn">
    <div class="container">
      <h2>Learn About Waste Segregation</h2>
      <div class="grid">
        <div class="card">
          <h3>Organic Waste</h3>
          <p>Compost food scraps and garden waste to reduce landfill waste.</p>
        </div>
        <div class="card">
          <h3>Recyclables</h3>
          <p>Learn which items can be recycled and how to prepare them properly.</p>
        </div>
        <div class="card">
          <h3>Hazardous Waste</h3>
          <p>Understand safe disposal methods for batteries, chemicals, and e-waste.</p>
        </div>
      </div>
    </div>
  </section>

  <section id="tools">
    <div class="container">
      <h2>Waste Segregation Tool</h2>
      <div style="position: relative;">
        <input
          type="text"
          id="search-input"
          placeholder="Search for a waste item (e.g., Plastic Bottle)"
          aria-label="Search for waste items"
          autocomplete="off"
        />
        <div id="suggestions"></div>
      </div>
      <div id="history"></div>
      <div id="results" class="grid"></div>
      <button id="share-button" class="share-button" aria-label="Share search results">Share Results</button>
    </div>
  </section>

  <section id="community">
    <div class="container">
      <h2>Join the Waste Wise Community</h2>
      <p>Connect with eco-conscious individuals to share tips and ideas for sustainable living. This platform was built by Roshani to empower communities for a greener future.</p>
      <button class="cta" id="join-button" aria-label="Join the Community">Join Now</button>
    </div>
  </section>

  <section id="about">
    <div class="container">
      <h2>About Waste Wise</h2>
      <p>Waste Wise is dedicated to promoting sustainable waste management. Built by Roshani, this platform aims to educate and empower users to make eco-friendly choices.</p>
    </div>
  </section>

  <div class="modal" id="join-modal">
    <div class="modal-content">
      <h3>Join the Waste Wise Community</h3>
      <p>Enter your details to connect with our eco-conscious community.</p>
      <input type="text" id="join-name" placeholder="Your Name" aria-label="Your Name">
      <input type="email" id="join-email" placeholder="Your Email" aria-label="Your Email">
      <button id="submit-join" aria-label="Submit join form">Join</button>
      <button id="close-modal" aria-label="Close modal">Close</button>
    </div>
  </div>

  <footer>
    <div class="container">
      <p>Follow us on social media:</p>
      <div>
        <a href="#" aria-label="Facebook">Facebook</a>
        <a href="#" aria-label="Twitter">Twitter</a>
        <a href="#" aria-label="Instagram">Instagram</a>
      </div>
      <p>&copy; <span id="current-year"></span> Waste Wise. Built by Roshani. All rights reserved.</p>
    </div>
  </footer>

  <script>
    const wasteData = [
      { id: 1, item: "Plastic Bottle", category: "Recyclable", bin: "Blue", instructions: "Rinse and remove cap" },
      { id: 2, item: "Food Scraps", category: "Organic", bin: "Green", instructions: "Compost or green bin" },
      { id: 3, item: "Battery", category: "Hazardous", bin: "Special Collection", instructions: "Take to recycling center" },
      { id: 4, item: "Cardboard", category: "Recyclable", bin: "Blue", instructions: "Flatten and keep dry" },
      { id: 5, item: "Glass Bottle", category: "Recyclable", bin: "Blue", instructions: "Rinse and remove lids" },
      { id: 6, item: "Food Waste", category: "Organic", bin: "Green", instructions: "Compost or green bin" },
    ];

    const searchInput = document.getElementById('search-input');
    const suggestionsDiv = document.getElementById('suggestions');
    const resultsDiv = document.getElementById('results');
    const historyDiv = document.getElementById('history');
    const themeToggle = document.getElementById('theme-toggle');
    const recentSearchesDiv = document.getElementById('recent-searches');
    const shareButton = document.getElementById('share-button');
    const progressInput = document.getElementById('progress-input');
    const progressFill = document.querySelector('.progress-fill');
    const joinButton = document.getElementById('join-button');
    const joinModal = document.getElementById('join-modal');
    const joinName = document.getElementById('join-name');
    const joinEmail = document.getElementById('join-email');
    const submitJoin = document.getElementById('submit-join');
    const closeModal = document.getElementById('close-modal');
    const currentYear = document.getElementById('current-year');

    // Dynamic footer year
    currentYear.textContent = new Date().getFullYear();

    // Load theme from localStorage
    if (localStorage.getItem('theme') === 'dark') {
      document.body.classList.add('dark-mode');
      themeToggle.textContent = '‚òÄÔ∏è';
    }

    // Toggle dark mode
    themeToggle.addEventListener('click', () => {
      document.body.classList.toggle('dark-mode');
      themeToggle.textContent = document.body.classList.contains('dark-mode') ? '‚òÄÔ∏è' : 'üåô';
      localStorage.setItem('theme', document.body.classList.contains('dark-mode') ? 'dark' : 'light');
      updateChart();
    });

    // Load search history
    const searchHistory = JSON.parse(localStorage.getItem('searchHistory')) || [];
    const updateHistory = () => {
      historyDiv.innerHTML = '';
      recentSearchesDiv.innerHTML = '';
      searchHistory.forEach(term => {
        const span = document.createElement('span');
        span.className = 'history-item';
        span.textContent = term;
        span.tabIndex = 0;
        span.addEventListener('click', () => {
          searchInput.value = term;
          search();
        });
        span.addEventListener('keypress', (e) => {
          if (e.key === 'Enter') {
            searchInput.value = term;
            search();
          }
        });
        historyDiv.appendChild(span.cloneNode(true));
        recentSearchesDiv.appendChild(span);
      });
    };
    updateHistory();

    // Search and filter
    const search = () => {
      const query = searchInput.value.toLowerCase().trim();
      suggestionsDiv.innerHTML = '';
      resultsDiv.innerHTML = '';

      if (query) {
        // Save to history
        if (!searchHistory.includes(query) && wasteData.some(item => item.item.toLowerCase().includes(query))) {
          searchHistory.unshift(query);
          if (searchHistory.length > 5) searchHistory.pop();
          localStorage.setItem('searchHistory', JSON.stringify(searchHistory));
          updateHistory();
        }

        // Show suggestions
        const suggestions = wasteData.filter(item => item.item.toLowerCase().includes(query));
        suggestions.forEach(item => {
          const div = document.createElement('div');
          div.textContent = item.item;
          div.addEventListener('click', () => {
            searchInput.value = item.item;
            search();
          });
          suggestionsDiv.appendChild(div);
        });

        // Show results
        const results = wasteData.filter(item => item.item.toLowerCase().includes(query));
        if (results.length) {
          results.forEach(item => {
            const card = document.createElement('div');
            card.className = 'card';
            card.innerHTML = `
              <h3>${item.item}</h3>
              <p><strong>Category:</strong> ${item.category}</p>
              <p><strong>Bin:</strong> ${item.bin}</p>
              <p><strong>Instructions:</strong> ${item.instructions}</p>
            `;
            resultsDiv.appendChild(card);
          });
        } else {
          resultsDiv.innerHTML = '<p class="text-center">No results found. Try another item!</p>';
        }
      }
      updateChart();
    };

    searchInput.addEventListener('input', search);
    searchInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') search();
    });

    // Share results
    shareButton.addEventListener('click', () => {
      const query = searchInput.value;
      const results = wasteData.filter(item => item.item.toLowerCase().includes(query.toLowerCase()));
      const shareText = results.length
        ? `I learned how to dispose of ${results.map(item => item.item).join(', ')} with Waste Wise! Check it out: ${window.location.href}`
        : 'Check out Waste Wise to learn about sustainable waste segregation! ' + window.location.href;

      if (navigator.share) {
        navigator.share({
          title: 'Waste Wise',
          text: shareText,
          url: window.location.href,
        }).catch(() => {
          navigator.clipboard.writeText(shareText);
          alert('Share text copied to clipboard!');
        });
      } else {
        navigator.clipboard.writeText(shareText);
        alert('Share text copied to clipboard!');
      }
    });

    // Progress tracker
    let progress = JSON.parse(localStorage.getItem('progress')) || [];
    const updateProgress = () => {
      const totalActions = progress.length;
      const maxActions = 10; // Arbitrary max for progress bar
      const percentage = Math.min((totalActions / maxActions) * 100, 100);
      progressFill.style.width = `${percentage}%`;
    };
    updateProgress();

    progressInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter' && progressInput.value.trim()) {
        progress.push(progressInput.value.trim());
        localStorage.setItem('progress', JSON.stringify(progress));
        progressInput.value = '';
        updateProgress();
      }
    });

    // Join modal
    joinButton.addEventListener('click', () => {
      joinModal.style.display = 'flex';
      joinName.focus();
    });

    closeModal.addEventListener('click', () => {
      joinModal.style.display = 'none';
      joinName.value = '';
      joinEmail.value = '';
    });

    submitJoin.addEventListener('click', () => {
      if (joinName.value.trim() && joinEmail.value.trim()) {
        const members = JSON.parse(localStorage.getItem('members')) || [];
        members.push({ name: joinName.value.trim(), email: joinEmail.value.trim() });
        localStorage.setItem('members', JSON.stringify(members));
        alert('Thank you for joining the Waste Wise community!');
        joinModal.style.display = 'none';
        joinName.value = '';
        joinEmail.value = '';
      } else {
        alert('Please enter your name and email.');
      }
    });

    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && joinModal.style.display === 'flex') {
        joinModal.style.display = 'none';
        joinName.value = '';
        joinEmail.value = '';
      }
    });

    // Smooth scrolling for nav links
    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
      anchor.addEventListener('click', (e) => {
        e.preventDefault();
        document.querySelector(anchor.getAttribute('href')).scrollIntoView({ behavior: 'smooth' });
      });
    });

    // Carousel
    const carouselItems = document.querySelector('.carousel-items');
    const carouselPrev = document.getElementById('carousel-prev');
    const carouselNext = document.getElementById('carousel-next');
    let carouselIndex = 0;

    const updateCarousel = () => {
      carouselItems.style.transform = `translateX(-${carouselIndex * 100}%)`;
    };

    carouselNext.addEventListener('click', () => {
      carouselIndex = (carouselIndex + 1) % 3;
      updateCarousel();
    });

    carouselPrev.addEventListener('click', () => {
      carouselIndex = (carouselIndex - 1 + 3) % 3;
      updateCarousel();
    });

    // Auto-rotate carousel every 5 seconds
    setInterval(() => {
      carouselIndex = (carouselIndex + 1) % 3;
      updateCarousel();
    }, 5000);

    // Dashboard chart
    const ctx = document.getElementById('waste-chart').getContext('2d');
    let chart;

    const updateChart = () => {
      const isDarkMode = document.body.classList.contains('dark-mode');
      const categories = {
        Recyclable: wasteData.filter(item => item.category === 'Recyclable').length,
        Organic: wasteData.filter(item => item.category === 'Organic').length,
        Hazardous: wasteData.filter(item => item.category === 'Hazardous').length,
      };

      if (chart) chart.destroy();
      chart = new Chart(ctx, {
        type: 'doughnut',
        data: {
          labels: ['Recyclable', 'Organic', 'Hazardous'],
          datasets: [{
            data: [categories.Recyclable, categories.Organic, categories.Hazardous],
            backgroundColor: isDarkMode
              ? ['#4caf50', '#81c784', '#ff9800']
              : ['#2e7d32', '#4caf50', '#ef6c00'],
          }],
        },
        options: {
          responsive: true,
          plugins: {
            legend: { position: 'bottom' },
          },
        },
      });
    };

    // Load Chart.js dynamically
    const script = document.createElement('script');
    script.src = 'https://cdn.jsdelivr.net/npm/chart.js';
    script.onload = updateChart;
    document.head.appendChild(script);
  </script>
</body>
</html>